<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
        apiKey: "AIzaSyA6_JsnmafQwVRFXy7i68yg4nHFtV2cSuA",
        authDomain: "todolist-6b11f.firebaseapp.com",
        projectId: "todolist-6b11f",
        storageBucket: "todolist-6b11f.appspot.com",
        messagingSenderId: "153419604445",
        appId: "1:153419604445:web:fa5a33aafba9036b77d634",
        measurementId: "G-56Y1VL3QJH"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
</script>
<script>
    async function loadTodos() {
        const snapshot = await firebase.database().ref('/todos').once('value');
        return snapshot.val() ? Object.values(snapshot.val()) : [];
    }

    function saveTodo(todo) {
        firebase.database().ref('/todos/' + todo.id).set(todo);
    }

    function updateTodo(todo) {
        firebase.database().ref('/todos/' + todo.id).update(todo);
    }

    function deleteTodo(id) {
        firebase.database().ref('/todos/' + id).remove();
    }
</script>
